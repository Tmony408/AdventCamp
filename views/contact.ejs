<% layout ('boilerplate') %>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <!-- <link rel="stylesheet" href="node_modules/mdbootstrap/css/bootstrap.min.css">
 <link rel="stylesheet" href="node_modules/mdbootstrap/css/mdb.min.css">
 <link rel="stylesheet" href="node_modules/mdbootstrap/css/style.css"> -->

    <!--Section: Contact v.2-->
    <section class="mb-4" style="margin-top: 10vh;">

        <!--Section heading-->
        <h2 class="h1-responsive font-weight-bold text-center my-4">Contact us</h2>
        <!--Section description-->
        <p class="text-center w-responsive mx-auto mb-5">Do you have any questions? Please do not hesitate to contact us
            directly. Our team will come back to you within
            a matter of hours to help you.</p>

        <div class="row">

            <!--Grid column-->
            <div class="col-md-12 col-lg-9 mb-md-0 mb-5">
                <form id="contact-form" name="contact-form" class="validated-form" novalidate>

                    <!--Grid row-->
                    <div class="row">

                        <!--Grid column-->
                        <div class="col-md-6">
                            <div class="md-form mb-0">
                                <label for="name" class="">Your name</label>
                                <input type="text" id="name" name="name" required class="form-control">

                                <div class="invalid-feedback">
                                    Please enter a Full Name in the text area.
                                </div>
                                <div class="valid-feedback">
                                    Looks Good
                                </div>
                            </div>

                        </div>

                        <!--Grid column-->

                        <!--Grid column-->
                        <div class="col-md-6">
                            <div class="md-form mb-0">
                                <label for="email" class="">Your email</label>
                                <input type="email" id="email" name="email" required class="form-control">

                                <div class="invalid-feedback">
                                    Please enter a email in the text area.
                                </div>
                                <div class="valid-feedback">
                                    Looks Good
                                </div>
                            </div>

                        </div>
                        <!--Grid column-->
                    </div>

                    <!--Grid row-->

                    <!--Grid row-->
                    <div class="row">
                        <div class="col-md-12">
                            <div class="md-form mb-0">
                                <label for="subject" class="">Subject</label>
                                <input type="text" id="subject" name="subject" class="form-control">


                            </div>
                        </div>

                    </div>
                    <!--Grid row-->

                    <!--Grid row-->
                    <div class="row">

                        <!--Grid column-->
                        <div class="col-md-12">

                            <div class="md-form">
                                <label for="message">Your message</label>
                                <textarea type="text" id="message" name="message" required rows="5"
                                    class="form-control md-textarea"></textarea>

                                <div class="invalid-feedback">
                                    Please enter a message in the text area.
                                </div>
                                <div class="valid-feedback">
                                    Looks Good
                                </div>
                            </div>


                        </div>
                    </div>
                    <!--Grid row-->

                    <div class="text-center text-md-left my-4">
                        <button type="submit" class="btn btn-primary">Send</button>
                    </div>
                    <div class="status"></div>

                </form>



                <!--Grid column-->
            </div>
            <!--Grid column-->
            <div class="col-md-12 col-lg-3 mt-md-5 mt-lg-0 text-center">
                <ul class="list-unstyled mb-0">
                    <li><i class="fas fa-map-marker-alt fa-2x"></i>
                        <p>Ikeja, Lagos, Nigeria.</p>
                    </li>

                    <li><i class="fas fa-phone mt-4 fa-2x"></i>
                        <p>+234 708 022 4715</p>
                    </li>

                    <li><i class="fas fa-envelope mt-4 fa-2x"></i>
                        <p>adetulajnr@gmail.com</p>
                    </li>
                </ul>
            </div>
            <!--Grid column-->

        </div>

    </section>
    <!--Section: Contact v.2-->
    <script>
        //         function sendMail(){
        //           (function(){

        // // // validating error 

        // //             const name = document.querySelector("#name").value
        // //            const email = document.querySelector("#email").value
        // //             const message = document.querySelector("#message").value
        // //             let valid = true
        // //             if (!name.value) {
        // //     const nameError = document.getElementById("nameError");
        // //     nameError.classList.add("visible");
        // //     name.classList.add("invalid");
        // //     nameError.setAttribute("aria-hidden", false);
        // //     nameError.setAttribute("aria-invalid", true);
        // //     return valid
        // //   }




        //             emailjs.init("CIz_DQhIyo9hjCvbQ"); // Account Public Key
        //           })();

        //           const params = {
        //             subject: document.querySelector("#subject").value,
        //             name: document.querySelector("#name").value,
        //             email: document.querySelector("#email").value,
        //             message: document.querySelector("#message").value,
        //           };

        //           const serviceID = "service_imegmhq"; // Email Service ID
        //           const templateID = "template_hg6mk1p"; // Email Template ID

        //           emailjs.send(serviceID, templateID, params)
        //           .then( res => {
        //             location.replace("http://localhost:3000/")
        //               alert('email sent successfully')
        //           })
        //           .catch();
        //         }
        const form = document.querySelector('form')
        const fullName = document.getElementById("name")
        const email = document.getElementById("email")
        const message = document.getElementById("message")
       
        form.addEventListener('submit', (e) => {
            e.preventDefault();
            let formError = "false";
       
            if (fullName.value === '' || fullName.value == null) {
                formError = "true"
                
                } else if (email.value === '' || email.value == null) {
                    formError = "true"
                    
                } else if (message.value === '' || message.value == null) {
                    formError = "true"
                    
            }
           
            if (formError === "false") {
                    (function () {
                        emailjs.init("CIz_DQhIyo9hjCvbQ"); // Account Public Key
                    })();

                const params = {
                    subject: document.querySelector("#subject").value,
                    name: document.querySelector("#name").value,
                    email: document.querySelector("#email").value,
                    message: document.querySelector("#message").value,
                };

                const serviceID = "service_imegmhq"; // Email Service ID
                const templateID = "template_hg6mk1p"; // Email Template ID

                emailjs.send(serviceID, templateID, params)
                    .then(res => {
                        location.replace("http://localhost:3000/")
                        alert('email sent successfully')
                    })
                    .catch();
            }
        }
        )



    </script>
    <script type="text/javascript" src="node_modules/mdbootstrap/js/popper.min.js"></script>